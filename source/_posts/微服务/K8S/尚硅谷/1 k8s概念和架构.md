---
title: 1 k8s概念和架构  
date: 2022-12-04 02:34:02  
tags: []  
categories:
  - 微服务
  - K8S
  - 尚硅谷
---
# k8s概述

* k8s是谷歌在2014年开源的容器化集群管理系统
* 使用k8s进行容器化应用部署
* 使用k8s利于应用扩展
* k8s目标实施部署容器化应用更加简洁和高效

# k8s功能

1. 自动装箱

   基于容器对应用运行环境的资源配置要求自动部署应用容器

2. 自我修复

   当容器失败时，会对容器进行重启

   当所部署的Node节点有问题时，会对容器进行重新部署和重新调度

   当容器未通过监控检查时，会关闭此容器直到容器正常运行时，才会对外提供服务

3. 水平扩展

   用户不需使用额外的服务发现机制，就能够基于Kubernetes自身能力实现服务发现和负载均衡

4. 滚动更新

   可以根据应用的变化，对应用容器进行的应用，进行一次性或批量式更新

5. 版本回退

   可以根据应用部署情况，对应用容器运行的应用，进行历史版本即时回退

6. 秘钥和配置管理

   在不需要重新构建镜像的情况下，可以部署和更新秘钥和应用配置，类似热部署。

7. 存储编排

   自动实现存储系统挂载及应用，特别对有状态应用实现数据持久化非常重要。存储系统可以来自于本地目录、网络存储（NFS、Gluster等）、公有云存储服务。

8. 批处理

   提供一次性处理任务。





# k8s集群架构组件



<img src="https://coachhe-1305181419.cos.ap-guangzhou.myqcloud.com/%E7%A8%8B%E5%BA%8F%E5%91%98/%E5%B7%A5%E5%85%B7/git/image-20210614175627564.png" alt="image-20210614175627564"  />



# k8s核心概念

## 1. Pod

1. 最小部署单元
2. 一组容器的集合
3. 共享网络
4. 生命周期是短暂的

## 2. controller

1. 确保预期的Pod副本数量
2. 无状态应用部署和有状态应有部署
3. 确保所有的node运行同一个pod
4. 一次性任务和定时任务

## 3. Service

定义一组Pod的访问规则














