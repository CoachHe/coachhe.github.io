---
title: 2. 必须创建所有对象  
date: 2022-12-18 04:38:04  
tag: []
categories:
  - 编程语言
  - Java
  - Java语言
  - Java语法
  - OnJava8
  - 第3章 对象
---
# 1. 数据存储在哪里

5 中数据存储方式
1. 寄存器：速度最快的数据存储方式，数据会直接保存在**中央处理器**里。缺点是数量有限
2. 栈：数据存储在 RAM 里，处理器可以通过**栈指针**直接操作该数据。
3. 堆：通用内存池，使用的也是 RAM 空间，用于**存放几乎所有 Java 对象**。
4. 常量存储：直接保存在程序代码中。
5. 非 RAM 存储：例如序列化对象、持久化对象

# 2. 特殊情况：基本类型

在这里我们先具体了解一下变量的分类：

##  基本数据分类

### 按照数据类型分类

按照数据类型分类，变量分为两种：

1. 基本数据类型
	1. 数值型
		1. 整数类型 (byte, short, long)
		2. 浮点类型 (float, double)
	2. 字符型 (char)
	3. 布尔型 (boolean)
2. 引用数据类型
	1. 类（class） <-- 字符串属于这里
	2. 接口 (interface)
	3. 数组 ([])

### 按照声明的位置不同

按照声明位置不同，变量也分为两类：

1. 成员变量
	1. 实例变量（不以 static 修饰）
	2. 类变量（以 static）修饰
2. 局部变量
	1. 形参
	2. 方法局部变量
	3. 代码块局部变量

## 特殊的原因

它们之所以享受特殊待遇，是因为 `new` 关键字是在堆上创建对象，这就意味着哪怕是创建一些简单的变量也不会很高效。

而对于基本数据类型，我们无需 `new` 来创建基本类型的变量，Java 会直接创建一个“自动变量”，而不是引用。也就是说，该变量会直接在栈上保存它的值，因为运行效率也高。

这块我们可以用字节码来做一个证明, 这是一段很简单的代码：

```java
public static void main(String[] args) {  
    LocalVariables l = new LocalVariables();  
    String str = "abc";  
    int a = 0;  
}
```

可以看到，我们 `new` 了一个对象，然后定义了一个 `String` 类型，然后然后定义了一个初始值为 0 的 int 类型。



