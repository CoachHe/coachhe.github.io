---
title: 1. 字符串概述
date: 2022-12-15 01:17:02  
tags: []  
---

# 1. 字符串的定义

字符串有两种定义方式：

```java
String s1 = "coachhe";
String s2 = new String("Hello");
```

# 2. 字符串的不可变性

这块很简单，直接看代码：

```java
/**  
 * @author CoachHe  
 * @date 2022/12/15 01:00  
 * 这里是为了展示Java字符串的不可变性，传入的其实是q对象引用的副本  
 **/  
public class Immutable {  
  
    public static String upcase(String s) {  
        return s.toUpperCase();  
    }  
  
    public static void main(String[] args) {  
        String q = "howdy";  
        System.out.println(q); //howdy  
        String qq = upcase(q);  
        System.out.println(qq); // HOWDY  
        System.out.println(q); // howdy  
    }  
  
}
```

在 `upcase()` 里，参数 `s` 值存活于这个方法的方法体中。

# 3. 字符串底层结构的变更

我们先来看看 `jdk8` 中字符串的底层结构：

```java
public final class String  
    implements java.io.Serializable, Comparable<String>, CharSequence {  
    /** The value is used for character storage. */  
    private final char value[];
    ...
}
```

可以看到，这里底层是用 `char` 数组来存储的。但是在 `jdk9` 之后就变了
