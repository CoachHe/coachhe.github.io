---
title: 7. 多态
tags: []
categories:
  - 编程语言
  - Java
  - Java语言
  - Java语法
  - OnJava8
  - 第1章 什么是对象
date: 2022-12-21 01:15:42
---

# 多态的描述

在编程中涉及类型层次时，我们通常会将一个对象视为其基类的一个实例，而不是对象实际的类。这种方式可以让你在编写代码时不依赖具体的类。

让我们看下这个类图：

<img src=" https://coachhe-1305181419.cos.ap-guangzhou.myqcloud.com/%E7%A8%8B%E5%BA%8F%E5%91%98/%E5%B7%A5%E5%85%B7/git/20221221013312.png" width = "80%" />

可以看到，这里基类是 `Bird`，实现了一个方法 `move()`，代表鸟类的移动。并且有两个子类 `Goose` 和 `Penguin`，他们分别重写了这个方法，`Goose` 可能是行走、飞翔或游泳，`Penguin` 则是移动或游泳。

根据上面所说，我们通常会将一个对象视为其基类的一个实例，而不是对象实际的类，也就是说，我们会按照 `Bird` 来进行 `Bird Controller` 的开发，并且 `Bird Controller` 在调用 `move()` 方法时不会关心具体的类型，该如何确保最终执行的是符合预期的正确行为呢？ 具体来说， `Goose()` 对象调用时如何确保不会调用到 `Bird` 通用的 `move()` 方法呢？

# 多态的实现

上面问题的答案来自继承机制的一种重要技巧：编译器并非通过传统方式来调用方法。

## 前期绑定

对于非面向对象编译器而言，其生成的函数调用会触发“前期绑定”，前期绑定意味着编译器会生成对一个具体方法名的调用，该方法名确定了被执行代码的绝对地址。

## 后期绑定

但是对于继承而言，程序直到运行时才能明确代码的地址，所以就需要引入其他可行的方案以确保消息可以顺利发送至对象。

这种机制就是“后期绑定”，也就是说，当你向某个对象发送消息时，知道运行时才会确定哪一段代码会被调用。编译器会确保被调用的方法是真实存在的，并对该方法的参数和返回值进行类型检查，但是它并不知道具体执行的是哪一段方法。


