---
title: 3. 动态连接  
date: 2022-12-29 16:03:04  
tags: []  
---


每个栈帧都包含一个指向**运行时常量池**中**该栈帧所属方法**的引用，持有这个引用是为了支持方法调用过程中的**动态连接**（Dynamic Linking）。比如： `invokedynamic` 指令。

通过 [[2 类文件结构]]的讲解，我们知道 : 

在 Java 源文件被编译到字节码文件中时，所有的变量和方法引用都作为符号引用（symbolic reference）保存在 class 文件的常量池里。

<img src=" https://coachhe-1305181419.cos.ap-guangzhou.myqcloud.com/%E7%A8%8B%E5%BA%8F%E5%91%98/%E5%B7%A5%E5%85%B7/git/20221217035147.png" width = "80%" />


Class 文件的常量池中存有大量的符号引用，字节码中的方法调用指令就以常量池里指向方法的符号引用作为参数。

## 动态连接和静态解析

- Class 文件中常量池的符号引用的一部分会在类加载阶段或者第一次使用的时候就被转化为直接引用，这种转化被称为静态解析。
- 另外一部分将在每一次运行期间都转化为直接引用，这部分就称为动态连接。

关于这两个转化过程的具体过程，将在接下来会再详细讲解。
